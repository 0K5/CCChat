{"level":"info","message":"TestLog","timestamp":"2018-04-03T09:43:01.793Z"}
{"date":"Tue Apr 03 2018 11:43:01 GMT+0200 (CEST)","process":{"pid":4169,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":32813056,"heapTotal":20967424,"heapUsed":10747000}},"os":{"loadavg":[1.0615234375,1.115234375,1.14599609375],"uptime":14073},"trace":[{"column":17,"file":"/Users/fh/git/CCChat/app/helpers/logger.spec.js","function":"ReadFileContext.fs.readFile [as callback]","line":10,"method":"readFile [as callback]","native":false},{"column":13,"file":"fs.js","function":"FSReqWrap.readFileAfterOpen [as oncomplete]","line":365,"method":"readFileAfterOpen [as oncomplete]","native":false}],"stack":["AssertionError: ENOENT: no such file or directory, open './logs/test.log'","    at ReadFileContext.fs.readFile [as callback] (/Users/fh/git/CCChat/app/helpers/logger.spec.js:10:17)","    at FSReqWrap.readFileAfterOpen [as oncomplete] (fs.js:365:13)"],"level":"error","message":"uncaughtException: ENOENT: no such file or directory, open './logs/test.log'","timestamp":"2018-04-03T09:43:01.801Z"}
{"date":"Tue Apr 03 2018 11:43:01 GMT+0200 (CEST)","process":{"pid":4169,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":33181696,"heapTotal":20967424,"heapUsed":11298752}},"os":{"loadavg":[1.0615234375,1.115234375,1.14599609375],"uptime":14073},"trace":[{"column":17,"file":"/Users/fh/git/CCChat/app/helpers/logger.spec.js","function":"ReadFileContext.fs.readFile [as callback]","line":10,"method":"readFile [as callback]","native":false},{"column":13,"file":"fs.js","function":"FSReqWrap.readFileAfterOpen [as oncomplete]","line":365,"method":"readFileAfterOpen [as oncomplete]","native":false}],"stack":["AssertionError: ENOENT: no such file or directory, open './logs/test.log'","    at ReadFileContext.fs.readFile [as callback] (/Users/fh/git/CCChat/app/helpers/logger.spec.js:10:17)","    at FSReqWrap.readFileAfterOpen [as oncomplete] (fs.js:365:13)"],"level":"error","message":"uncaughtException: ENOENT: no such file or directory, open './logs/test.log'","timestamp":"2018-04-03T09:43:01.803Z"}
{"date":"Tue Apr 03 2018 11:43:01 GMT+0200 (CEST)","process":{"pid":4169,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":33206272,"heapTotal":20967424,"heapUsed":11448080}},"os":{"loadavg":[1.0615234375,1.115234375,1.14599609375],"uptime":14073},"trace":[{"column":17,"file":"/Users/fh/git/CCChat/app/helpers/logger.spec.js","function":"ReadFileContext.fs.readFile [as callback]","line":10,"method":"readFile [as callback]","native":false},{"column":13,"file":"fs.js","function":"FSReqWrap.readFileAfterOpen [as oncomplete]","line":365,"method":"readFileAfterOpen [as oncomplete]","native":false}],"stack":["AssertionError: ENOENT: no such file or directory, open './logs/test.log'","    at ReadFileContext.fs.readFile [as callback] (/Users/fh/git/CCChat/app/helpers/logger.spec.js:10:17)","    at FSReqWrap.readFileAfterOpen [as oncomplete] (fs.js:365:13)"],"level":"error","message":"uncaughtException: ENOENT: no such file or directory, open './logs/test.log'","timestamp":"2018-04-03T09:43:01.804Z"}
{"date":"Tue Apr 03 2018 11:43:01 GMT+0200 (CEST)","process":{"pid":4169,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":33206272,"heapTotal":20967424,"heapUsed":11587520}},"os":{"loadavg":[1.0615234375,1.115234375,1.14599609375],"uptime":14073},"trace":[{"column":17,"file":"/Users/fh/git/CCChat/app/helpers/logger.spec.js","function":"ReadFileContext.fs.readFile [as callback]","line":10,"method":"readFile [as callback]","native":false},{"column":13,"file":"fs.js","function":"FSReqWrap.readFileAfterOpen [as oncomplete]","line":365,"method":"readFileAfterOpen [as oncomplete]","native":false}],"stack":["AssertionError: ENOENT: no such file or directory, open './logs/test.log'","    at ReadFileContext.fs.readFile [as callback] (/Users/fh/git/CCChat/app/helpers/logger.spec.js:10:17)","    at FSReqWrap.readFileAfterOpen [as oncomplete] (fs.js:365:13)"],"level":"error","message":"uncaughtException: ENOENT: no such file or directory, open './logs/test.log'","timestamp":"2018-04-03T09:43:01.805Z"}
{"date":"Tue Apr 03 2018 11:43:01 GMT+0200 (CEST)","process":{"pid":4169,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":33206272,"heapTotal":20967424,"heapUsed":11726944}},"os":{"loadavg":[1.0615234375,1.115234375,1.14599609375],"uptime":14073},"trace":[{"column":17,"file":"/Users/fh/git/CCChat/app/helpers/logger.spec.js","function":"ReadFileContext.fs.readFile [as callback]","line":10,"method":"readFile [as callback]","native":false},{"column":13,"file":"fs.js","function":"FSReqWrap.readFileAfterOpen [as oncomplete]","line":365,"method":"readFileAfterOpen [as oncomplete]","native":false}],"stack":["AssertionError: ENOENT: no such file or directory, open './logs/test.log'","    at ReadFileContext.fs.readFile [as callback] (/Users/fh/git/CCChat/app/helpers/logger.spec.js:10:17)","    at FSReqWrap.readFileAfterOpen [as oncomplete] (fs.js:365:13)"],"level":"error","message":"uncaughtException: ENOENT: no such file or directory, open './logs/test.log'","timestamp":"2018-04-03T09:43:01.805Z"}
{"date":"Tue Apr 03 2018 11:43:01 GMT+0200 (CEST)","process":{"pid":4169,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":33300480,"heapTotal":20967424,"heapUsed":11866384}},"os":{"loadavg":[1.0615234375,1.115234375,1.14599609375],"uptime":14073},"trace":[{"column":17,"file":"/Users/fh/git/CCChat/app/helpers/logger.spec.js","function":"ReadFileContext.fs.readFile [as callback]","line":10,"method":"readFile [as callback]","native":false},{"column":13,"file":"fs.js","function":"FSReqWrap.readFileAfterOpen [as oncomplete]","line":365,"method":"readFileAfterOpen [as oncomplete]","native":false}],"stack":["AssertionError: ENOENT: no such file or directory, open './logs/test.log'","    at ReadFileContext.fs.readFile [as callback] (/Users/fh/git/CCChat/app/helpers/logger.spec.js:10:17)","    at FSReqWrap.readFileAfterOpen [as oncomplete] (fs.js:365:13)"],"level":"error","message":"uncaughtException: ENOENT: no such file or directory, open './logs/test.log'","timestamp":"2018-04-03T09:43:01.806Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T09:44:03.943Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T09:44:21.990Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T09:44:45.109Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T09:45:08.143Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T09:59:59.414Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T09:59:59.429Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:00:24.580Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:00:24.596Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:00:24.601Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:02:29.633Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:02:29.648Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:02:29.654Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:02:51.129Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:02:51.145Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:02:51.151Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:06:47.733Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:06:47.748Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:06:47.754Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:07:21.752Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:07:21.770Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:07:21.778Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:09:29.901Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:09:29.920Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:09:29.928Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:11:40.334Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:11:40.350Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:11:40.358Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:13:10.608Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:13:10.627Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:13:10.635Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:14:39.887Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:14:39.903Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:14:39.911Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:15:44.220Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:15:44.237Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:15:44.245Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:30:44.323Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T10:30:44.348Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:35:17.219Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:35:17.235Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:35:17.242Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:36:03.196Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:36:03.213Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:36:03.233Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:38:49.980Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:38:49.998Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:38:50.007Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:40:12.361Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:40:12.379Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:40:12.387Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:40:31.609Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:40:31.625Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:40:31.634Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:43:18.313Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:43:18.329Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:43:18.337Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:43:36.513Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:43:36.530Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:43:36.538Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:47:01.345Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:47:01.363Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:47:01.374Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T10:49:43.067Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T10:49:43.083Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T10:49:43.093Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:04:10.807Z"}
{"level":"warn","message":"Couldn't connect to local mongodb. Fallback to local filestore","timestamp":"2018-04-03T11:04:10.822Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:04:10.832Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:19:44.602Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:19:44.627Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:19:46.639Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:20:43.643Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:20:43.670Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:20:45.679Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:22:56.686Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:22:56.710Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:22:56.725Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:22:56.745Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:22:58.735Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:22:58.737Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:23:46.651Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:23:46.677Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:23:46.690Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:23:46.693Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:23:46.697Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:23:48.704Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:23:48.706Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:27:22.267Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:27:22.292Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:27:22.305Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:27:22.309Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:27:22.311Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:27:24.316Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:27:24.319Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:28:21.196Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:28:21.222Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:28:21.235Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:28:21.238Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:28:21.240Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:28:23.247Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:28:23.250Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:29:15.870Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:29:15.897Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:29:15.910Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:29:15.913Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:29:15.919Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:29:17.939Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:29:17.941Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:30:36.760Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:30:36.787Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:30:36.801Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:30:36.804Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:30:36.808Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:30:38.827Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:30:38.829Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:31:58.166Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:31:58.190Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:31:58.204Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:31:58.208Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:31:58.211Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:32:00.238Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:32:00.240Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:35:26.899Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:35:26.924Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:35:26.937Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:35:26.940Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:35:26.946Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:35:28.963Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:35:28.966Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:36:29.702Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:36:29.728Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:36:29.742Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:36:29.745Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:36:29.750Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:36:31.767Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:36:31.769Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:37:20.398Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:37:20.424Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:37:20.437Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:37:20.440Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:37:20.445Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:37:22.467Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:37:22.469Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:37:55.050Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:37:55.076Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:37:55.100Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:37:55.103Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:37:55.107Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:37:57.114Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:37:57.117Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:38:46.111Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:38:46.137Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:38:46.151Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:38:46.154Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:38:46.158Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:38:48.167Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:38:48.169Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:39:42.012Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:39:42.039Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:39:42.052Z"}
{"level":"warn","message":"Document with id testId couldn't be created","timestamp":"2018-04-03T11:39:42.055Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:39:42.060Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:39:44.069Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:39:44.071Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:40:49.491Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:40:49.516Z"}
{"level":"info","message":"Collection test created","timestamp":"2018-04-03T11:40:49.530Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:40:51.530Z"}
{"level":"info","message":"Document with id testId created","timestamp":"2018-04-03T11:40:53.537Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:40:53.539Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:57:39.293Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:57:39.320Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":56963072,"heapTotal":40890368,"heapUsed":25646080}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":3,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":"update","line":104,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":73,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"err","line":415,"method":null,"native":false},{"column":25,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":404,"method":null,"native":false},{"column":33,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":426,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":696,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["ReferenceError: db is not defined","    at update (/Users/fh/git/CCChat/app/helpers/database.js:104:3)","    at /Users/fh/git/CCChat/app/helpers/database.js:73:5","    at err (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:415:14)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:404:25)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:426:33","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:696:14","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: db is not defined","timestamp":"2018-04-03T11:57:39.330Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57061376,"heapTotal":40890368,"heapUsed":26063680}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":3,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":"update","line":104,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":73,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"err","line":415,"method":null,"native":false},{"column":25,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":404,"method":null,"native":false},{"column":33,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":426,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":696,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["ReferenceError: db is not defined","    at update (/Users/fh/git/CCChat/app/helpers/database.js:104:3)","    at /Users/fh/git/CCChat/app/helpers/database.js:73:5","    at err (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:415:14)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:404:25)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:426:33","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:696:14","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: db is not defined","timestamp":"2018-04-03T11:57:39.334Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57069568,"heapTotal":40890368,"heapUsed":26358192}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":3,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":"update","line":104,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":73,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"err","line":415,"method":null,"native":false},{"column":25,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":404,"method":null,"native":false},{"column":33,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":426,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":696,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["ReferenceError: db is not defined","    at update (/Users/fh/git/CCChat/app/helpers/database.js:104:3)","    at /Users/fh/git/CCChat/app/helpers/database.js:73:5","    at err (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:415:14)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:404:25)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:426:33","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:696:14","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: db is not defined","timestamp":"2018-04-03T11:57:39.335Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57081856,"heapTotal":40890368,"heapUsed":26917320}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":3,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":"update","line":104,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":73,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"err","line":415,"method":null,"native":false},{"column":25,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":404,"method":null,"native":false},{"column":33,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":426,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":696,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["ReferenceError: db is not defined","    at update (/Users/fh/git/CCChat/app/helpers/database.js:104:3)","    at /Users/fh/git/CCChat/app/helpers/database.js:73:5","    at err (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:415:14)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:404:25)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:426:33","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:696:14","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: db is not defined","timestamp":"2018-04-03T11:57:39.338Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57081856,"heapTotal":40890368,"heapUsed":26643536}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":3,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":"update","line":104,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":73,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"err","line":415,"method":null,"native":false},{"column":25,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":404,"method":null,"native":false},{"column":33,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":426,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":696,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["ReferenceError: db is not defined","    at update (/Users/fh/git/CCChat/app/helpers/database.js:104:3)","    at /Users/fh/git/CCChat/app/helpers/database.js:73:5","    at err (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:415:14)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:404:25)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:426:33","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:696:14","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: db is not defined","timestamp":"2018-04-03T11:57:39.336Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57081856,"heapTotal":40890368,"heapUsed":27191104}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":3,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":"update","line":104,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":73,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"err","line":415,"method":null,"native":false},{"column":25,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":404,"method":null,"native":false},{"column":33,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":426,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":14,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":696,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["ReferenceError: db is not defined","    at update (/Users/fh/git/CCChat/app/helpers/database.js:104:3)","    at /Users/fh/git/CCChat/app/helpers/database.js:73:5","    at err (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:415:14)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:404:25)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:426:33","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:696:14","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: db is not defined","timestamp":"2018-04-03T11:57:39.339Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57298944,"heapTotal":40890368,"heapUsed":27808920}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.349Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57307136,"heapTotal":40890368,"heapUsed":28237648}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.350Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57323520,"heapTotal":40890368,"heapUsed":28624424}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.352Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57327616,"heapTotal":40890368,"heapUsed":28990224}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.353Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57327616,"heapTotal":40890368,"heapUsed":29353408}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.355Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":59142144,"heapTotal":59764736,"heapUsed":24136800}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.360Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":59191296,"heapTotal":59764736,"heapUsed":24691064}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.365Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":59207680,"heapTotal":59764736,"heapUsed":25079864}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.367Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":59224064,"heapTotal":59764736,"heapUsed":25453376}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.369Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":59232256,"heapTotal":59764736,"heapUsed":25819056}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.370Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":59232256,"heapTotal":59764736,"heapUsed":26176888}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.371Z"}
{"date":"Tue Apr 03 2018 13:57:39 GMT+0200 (CEST)","process":{"pid":5320,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":59232256,"heapTotal":59764736,"heapUsed":26534712}},"os":{"loadavg":[1.39111328125,1.2958984375,1.30078125],"uptime":22149},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:57:39.372Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:57:39.375Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:58:10.535Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:58:10.563Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T11:58:10.571Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57577472,"heapTotal":40890368,"heapUsed":25942408}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.580Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57688064,"heapTotal":40890368,"heapUsed":26502968}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.583Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57696256,"heapTotal":40890368,"heapUsed":26901816}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.585Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57704448,"heapTotal":40890368,"heapUsed":27289448}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.586Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57708544,"heapTotal":40890368,"heapUsed":27669208}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.588Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57716736,"heapTotal":40890368,"heapUsed":28060920}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.589Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T11:58:10.594Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57810944,"heapTotal":40890368,"heapUsed":28720504}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.596Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57815040,"heapTotal":40890368,"heapUsed":29097752}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.597Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":57815040,"heapTotal":40890368,"heapUsed":29461424}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.599Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":59637760,"heapTotal":59764736,"heapUsed":24275456}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.604Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":59637760,"heapTotal":59764736,"heapUsed":24638688}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.605Z"}
{"date":"Tue Apr 03 2018 13:58:10 GMT+0200 (CEST)","process":{"pid":5329,"uid":504,"gid":20,"cwd":"/Users/fh/git/CCChat/app","execPath":"/usr/local/Cellar/node/6.3.0/bin/node","version":"v6.3.0","argv":["/usr/local/Cellar/node/6.3.0/bin/node","/Users/fh/git/CCChat/app/node_modules/mocha/bin/_mocha","./helpers/database.spec.js","./helpers/logger.spec.js","./helpers/modulefactory.spec.js"],"memoryUsage":{"rss":59645952,"heapTotal":59764736,"heapUsed":25015144}},"os":{"loadavg":[1.62841796875,1.3740234375,1.3291015625],"uptime":22180},"trace":[{"column":12,"file":"/Users/fh/git/CCChat/app/helpers/database.js","function":null,"line":92,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js","function":null,"line":1363,"method":null,"native":false},{"column":17,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"result","line":414,"method":null,"native":false},{"column":9,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"executeCallback","line":406,"method":null,"native":false},{"column":55,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":128,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js","function":null,"line":770,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"handleCallback","line":199,"method":null,"native":false},{"column":5,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"nextFunction","line":804,"method":null,"native":false},{"column":7,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":null,"line":686,"method":null,"native":false},{"column":16,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js","function":"queryCallback","line":263,"method":null,"native":false},{"column":18,"file":"/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":541,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":67,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":98,"method":"_tickCallback","native":false}],"stack":["TypeError: logger.logDebug is not a function","    at /Users/fh/git/CCChat/app/helpers/database.js:92:12","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:1363:5","    at result (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:414:17)","    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:406:9)","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)","    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/cursor.js:770:5","    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:199:5)","    at nextFunction (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:804:5)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:686:7","    at queryCallback (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/cursor.js:263:16)","    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18","    at _combinedTickCallback (internal/process/next_tick.js:67:7)","    at process._tickCallback (internal/process/next_tick.js:98:9)"],"level":"error","message":"uncaughtException: logger.logDebug is not a function","timestamp":"2018-04-03T11:58:10.607Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:58:10.610Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T11:59:03.881Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T11:59:03.907Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T11:59:03.915Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T11:59:03.925Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T11:59:03.929Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T12:00:04.330Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T12:00:04.356Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T12:00:04.364Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T12:00:04.374Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T12:00:04.378Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T12:01:38.149Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T12:01:38.175Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T12:01:38.183Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T12:01:38.194Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T12:01:38.198Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T12:03:37.484Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T12:03:37.509Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T12:03:37.517Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T12:03:37.528Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T12:03:37.532Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T12:04:13.077Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T12:04:13.103Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T12:04:13.111Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T12:04:13.121Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T12:04:13.124Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T12:05:10.334Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T12:05:10.359Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T12:05:10.366Z"}
{"message":"the update operation document must contain atomic operators.","name":"MongoError","driver":true,"stack":"MongoError: the update operation document must contain atomic operators.\n    at Function.MongoError.create (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/error.js:45:10)\n    at toError (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:149:22)\n    at checkForAtomicOperators (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:856:12)\n    at Collection.updateOne (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:830:13)\n    at update (/Users/fh/git/CCChat/app/helpers/database.js:111:29)\n    at /Users/fh/git/CCChat/app/helpers/database.js:65:6\n    at err (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:415:14)\n    at executeCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:404:25)\n    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:426:33\n    at handleCallback (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:128:55)\n    at /Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:696:14\n    at /Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/connection/pool.js:541:18\n    at _combinedTickCallback (internal/process/next_tick.js:67:7)\n    at process._tickCallback (internal/process/next_tick.js:98:9)","level":"error","timestamp":"2018-04-03T12:05:10.366Z"}
{"level":"warn","message":"Document with id testId couldn't be updated","timestamp":"2018-04-03T12:05:10.379Z"}
{"message":"the update operation document must contain atomic operators.","name":"MongoError","driver":true,"stack":"MongoError: the update operation document must contain atomic operators.\n    at Function.MongoError.create (/Users/fh/git/CCChat/app/node_modules/mongodb-core/lib/error.js:45:10)\n    at toError (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/utils.js:149:22)\n    at checkForAtomicOperators (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:856:12)\n    at Collection.updateOne (/Users/fh/git/CCChat/app/node_modules/mongodb/lib/collection.js:830:13)\n    at Object.update (/Users/fh/git/CCChat/app/helpers/database.js:111:29)\n    at Context.<anonymous> (/Users/fh/git/CCChat/app/helpers/database.spec.js:31:6)\n    at callFnAsync (/Users/fh/git/CCChat/app/node_modules/mocha/lib/runnable.js:401:21)\n    at Test.Runnable.run (/Users/fh/git/CCChat/app/node_modules/mocha/lib/runnable.js:348:7)\n    at Runner.runTest (/Users/fh/git/CCChat/app/node_modules/mocha/lib/runner.js:442:10)\n    at /Users/fh/git/CCChat/app/node_modules/mocha/lib/runner.js:560:12\n    at next (/Users/fh/git/CCChat/app/node_modules/mocha/lib/runner.js:356:14)\n    at /Users/fh/git/CCChat/app/node_modules/mocha/lib/runner.js:366:7\n    at next (/Users/fh/git/CCChat/app/node_modules/mocha/lib/runner.js:290:14)\n    at Immediate.<anonymous> (/Users/fh/git/CCChat/app/node_modules/mocha/lib/runner.js:334:5)\n    at runCallback (timers.js:566:20)\n    at tryOnImmediate (timers.js:546:5)\n    at processImmediate [as _immediateCallback] (timers.js:525:5)","level":"error","timestamp":"2018-04-03T12:05:10.379Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T12:05:10.382Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T12:06:46.607Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T12:06:46.633Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T12:06:46.655Z"}
{"level":"warn","message":"Couldn't connect to mlab.com. Fallback to local mongodb","timestamp":"2018-04-03T12:15:22.901Z"}
{"level":"info","message":"Connection to local mongodb succeeded","timestamp":"2018-04-03T12:15:22.927Z"}
{"level":"info","message":"TestLog","timestamp":"2018-04-03T12:15:22.949Z"}
